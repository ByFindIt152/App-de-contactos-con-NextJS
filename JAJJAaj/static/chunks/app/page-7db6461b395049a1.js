(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4222:function(e,a,s){Promise.resolve().then(s.bind(s,1717))},1717:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return S}});var t=s(6705);s(6691);var n=s(9768),i=s(3248);let r=(0,i.eI)("https://miau.supabase.co","miau-key",{auth:{persistSession:!1}}),l="contactos";async function o(){let{data:e}=await r.from(l).select("*");return e}async function d(e,a,s,t,n,i){try{let{data:o,error:d}=await r.from(l).insert([{first_name:e,last_name:a,email:s,avatar:t,username:n,description:i}]).select()}catch(e){console.log("Something gone wrong:\r\n",e)}}async function c(e){try{let{error:a}=await r.from(l).delete().eq("id",e);a?(alert("Ocurrio un error:\r\n",a),console.log(a)):console.log("Registro Eliminado")}catch(e){}}async function m(e,a,s,t,n,i,o){try{let{error:d}=await r.from(l).update({first_name:a,last_name:s,email:t,avatar:n,username:i,description:o}).eq("id",e);d?(alert("Ocurrio un error:\r\n",d),console.log(d)):alert("Registro Eliminado")}catch(e){console.log("Something gone wrong:\r\n",e)}}var u=s(955);let x=(0,u.createContext)();function p(e){let{children:a}=e,[s,n]=(0,u.useState)(),[i,r]=(0,u.useState)();return(0,u.useEffect)(()=>{!async function(){let e=await o();n(e)}()},[]),(0,t.jsx)(x.Provider,{value:{users:s,setState:n,userId:i,setUserId:r},children:a})}var h=s(4033);function b(e){let{setState:a}=(0,u.useContext)(x);return(0,t.jsx)("button",{onClick:async()=>{await c(e.userId);let s=await o();a(s)},type:"button",className:"btn btn-outline-danger btn-sm mb-2 fs-3",children:(0,t.jsx)("i",{className:"fa-solid fa-trash"})})}function f(){let e=function(){let[e,a]=(0,u.useState)({width:void 0,height:void 0});return(0,u.useEffect)(()=>{function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}(),[a,s]=(0,u.useState)(e.width);return(0,u.useEffect)(()=>{let e=()=>s(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{width:a}}function g(){let{users:e,setData:a,userId:s,setUserId:i}=(0,u.useContext)(x);console.log("\r\n",JSON.stringify(e),"\r\n");let r=(0,h.useRouter)();return(0,t.jsx)("ul",{className:"list-group",children:null==e?void 0:e.map(e=>(0,t.jsx)(n.L,{className:"load-hidden",origin:"left",interval:250,rotate:{x:12,y:40,z:0},delay:200,duration:500,reset:!0,viewOffset:{top:25,right:0,bottom:10,left:5},children:(0,t.jsxs)("li",{className:"p-1 list-group-item list-group-item-action hvr-grow d-flex  flex-row  gap-2 align-items-center mb-4",style:{borderRadius:"6px",border:"solid 1px #AEAEAF",borderRadius:"12px",boxShadow:"2px 4px 2px whitesmoke",height:"20vh"},children:[(0,t.jsx)("img",{onClick:()=>{r.push("/users/".concat(e.username))},src:e.avatar,alt:e.email,style:{width:"8rem",height:"100%",borderRadius:"6px"}}),(0,t.jsxs)("div",{className:"d-flex flex-column no-text-break align-items-start hvr-grow",style:{cursor:"pointer",zIndex:"111"},children:[(0,t.jsxs)("h5",{className:"d-flex  mt-4 flexwrap gap-3",children:[(0,t.jsx)("i",{className:"fa-regular fa-id-card fs-2"}),e.id]}),(0,t.jsxs)("h5",{children:[e.first_name,", ",(0,t.jsx)("b",{children:e.last_name})]}),(0,t.jsx)("p",{children:e.email})]}),(0,t.jsxs)("div",{className:"d-flex ms-5 flex-row gap-1 ",style:{position:"absolute",top:"0",right:"0",zIndex:"99"},children:[(0,t.jsx)("button",{onClick:()=>{i(e.id.toString()),console.log("ID DEL USUARIO\r\n"+s,"\r\n",typeof s)},type:"button",className:"btn btn-outline-secondary btn-sm mb-2 fs-3","data-id":e.id,"data-bs-toggle":"modal","data-bs-target":"#editarModal",children:(0,t.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),(0,t.jsx)(b,{userId:e.id})]})]})},e.id))})}function j(){let{users:e,setData:a,userId:s,setUserId:i}=(0,u.useContext)(x);console.log("\r\n",JSON.stringify(e),"\r\n");let r=(0,h.useRouter)();return(0,t.jsx)("ul",{className:"list-group",children:null==e?void 0:e.map(e=>(0,t.jsx)(n.L,{className:"load-hidden",origin:"left",interval:250,rotate:{x:12,y:40,z:0},delay:100,duration:500,reset:!0,viewOffset:{top:25,right:0,bottom:10,left:5},children:(0,t.jsxs)("li",{className:"p-1 list-group-item list-group-item-action hvr-grow d-flex align-content-center flex-wrap flex-row justify-content-around align-items-center mb-4",style:{borderRadius:"6px",border:"solid 1px #AEAEAF",boxShadow:"2px 4px 2px whitesmoke"},children:[(0,t.jsxs)("div",{className:"d-flex flex-column p-2 m-2 align-items-start flew-wrap",children:[(0,t.jsx)("button",{onClick:()=>{i(e.id.toString()),console.log("ID DEL USUARIO\r\n"+s,"\r\n",typeof s)},type:"button",className:"btn btn-outline-secondary btn-sm mb-2 fs-3","data-id":e.id,"data-bs-toggle":"modal","data-bs-target":"#editarModal",children:(0,t.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),(0,t.jsx)(b,{userId:e.id})]}),(0,t.jsxs)("div",{className:"d-flex flex-column align-items-center hvr-grow",style:{cursor:"pointer"},onClick:()=>{r.push("/users/".concat(e.username))},children:[(0,t.jsx)("i",{className:"fa-regular fa-id-card fs-2 mb-2"}),(0,t.jsxs)("h5",{children:[e.id,"| ",e.first_name,", ",(0,t.jsx)("b",{children:e.last_name})]}),(0,t.jsx)("p",{children:e.email})]}),(0,t.jsx)("img",{width:"130",height:"130",src:e.avatar,alt:e.email,style:{borderRadius:"25%",border:"solid 1px whitesmoke",boxShadow:"1px 2px 4px gray"}})]})},e.id))})}function N(){let{width:e}=f();return e<620?(0,t.jsx)(g,{}):(0,t.jsx)(j,{})}function v(){return(0,t.jsx)("ul",{className:"list-group disable-select","data-bs-toggle":"modal","data-bs-target":"#a\xf1adirModal",children:(0,t.jsx)("li",{className:"p-1 list-group-item list-group-item-action hvr-grow d-flex align-content-center flex-wrap flex-row justify-content-around align-items-center",style:{borderRadius:"6px",border:"dashed 3px #D1D2CD",cursor:"pointer",height:"20vh"},children:(0,t.jsxs)("div",{className:"d-flex flex-column align-items-center p-2",style:{color:"#AEAEAF"},children:[(0,t.jsx)("i",{className:"fa-regular fa-plus mb-2",style:{fontSize:"8vh"}}),(0,t.jsx)("h6",{className:"no-text-break",style:{fontSize:"3vh",fontFamily:"monospace",textTransform:"lowercase"},children:"A\xf1adir "})]})})})}function y(){return(0,t.jsx)("ul",{className:"list-group disable-select","data-bs-toggle":"modal","data-bs-target":"#a\xf1adirModal",children:(0,t.jsx)("li",{className:"p-1 list-group-item list-group-item-action hvr-grow d-flex align-content-center flex-wrap flex-row justify-content-around align-items-center",style:{borderRadius:"6px",border:"dashed 3px #D1D2CD",cursor:"pointer"},children:(0,t.jsxs)("div",{className:"d-flex flex-column align-items-center p-2",style:{color:"#AEAEAF"},children:[(0,t.jsx)("i",{className:"fa-regular fa-plus mb-2",style:{fontSize:"10vh"}}),(0,t.jsx)("h5",{style:{fontSize:"5vh",fontFamily:"monospace",textTransform:"lowercase"},children:"A\xf1adir nuevo contacto"})]})})})}function w(){let{width:e}=f();return e<620?(0,t.jsx)(v,{}):(0,t.jsx)(y,{})}function C(){let{setState:e}=(0,u.useContext)(x);(0,u.useId)();let[a,s]=(0,u.useState)({first_name:"",last_name:"",em:"",ail:"",avatar:"",username:"",description:""}),n=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))};async function i(s){s.preventDefault(),await d(a.first_name,a.last_name,a.em+"@"+a.ail,a.avatar,a.username,a.description),console.log("Registro completado");let t=await o();e(t),console.log("Debug:\r\n",a)}return(0,t.jsx)("div",{className:"modal fade",id:"a\xf1adirModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog",children:(0,t.jsx)("div",{className:"modal-content",children:(0,t.jsxs)("form",{onSubmit:i,children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"A\xf1adir"}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("span",{className:"input-group-text",children:"Nombre, Apellido"}),(0,t.jsx)("input",{onChange:n,name:"first_name",id:"first_name",type:"text","aria-label":"First name",className:"form-control"}),(0,t.jsx)("input",{onChange:n,name:"last_name",id:"last_name",type:"text","aria-label":"Last name",className:"form-control"})]}),(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("input",{onChange:n,name:"em",id:"em",type:"text",className:"form-control",placeholder:"Nombre","aria-label":"Username"}),(0,t.jsx)("span",{className:"input-group-text",children:"@"}),(0,t.jsx)("input",{onChange:n,name:"ail",id:"ail",type:"text",className:"form-control",placeholder:"Server.com","aria-label":"Server"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"basic-url",className:"form-label",children:"El Url De tu Avatar"}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Url"}),(0,t.jsx)("input",{onChange:n,type:"text",className:"form-control",name:"avatar",id:"basic-url","aria-describedby":"basic-addon3 basic-addon4",placeholder:"https://example.com/users/"})]})]}),(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"@"}),(0,t.jsx)("input",{onChange:n,name:"username",id:"username",type:"text",className:"form-control",placeholder:"Nombre de Usuario","aria-label":"Username","aria-describedby":"basic-addon1"})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"Descripcion"}),(0,t.jsx)("textarea",{onChange:n,name:"description",id:"description",className:"form-control","aria-label":"With textarea"})]})]}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-success","data-bs-dismiss":"modal",children:"A\xf1adir"})]})]})})})})}function _(){let{userId:e,setState:a}=(0,u.useContext)(x),[s,n]=(0,u.useState)({first_name:"",last_name:"",em:"",ail:"",avatar:"",username:"",description:""}),i=e=>{let{name:a,value:s}=e.target;n(e=>({...e,[a]:s}))};async function r(t){t.preventDefault(),await m(e,s.first_name,s.last_name,s.em+"@"+s.ail,s.avatar,s.username,s.description),alert("Registro Actualizado");let n=await o();a(n),console.log("Debug:\r\n",s)}return(0,t.jsx)("div",{className:"modal fade",id:"editarModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,t.jsx)("div",{className:"modal-dialog",children:(0,t.jsx)("div",{className:"modal-content",children:(0,t.jsxs)("form",{onSubmit:r,children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h1",{className:"modal-title fs-5",id:"staticBackdropLabel",children:"Editar"}),(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("span",{className:"input-group-text",children:"Nombre, Apellido"}),(0,t.jsx)("input",{onChange:i,name:"first_name",id:"first_name",type:"text","aria-label":"First name",className:"form-control"}),(0,t.jsx)("input",{onChange:i,name:"last_name",id:"last_name",type:"text","aria-label":"Last name",className:"form-control"})]}),(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("input",{onChange:i,name:"em",id:"em",type:"text",className:"form-control",placeholder:"Nombre","aria-label":"Username"}),(0,t.jsx)("span",{className:"input-group-text",children:"@"}),(0,t.jsx)("input",{onChange:i,name:"ail",id:"ail",type:"text",className:"form-control",placeholder:"Server.com","aria-label":"Server"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"basic-url",className:"form-label",children:"El Url De tu Avatar"}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Url"}),(0,t.jsx)("input",{onChange:i,type:"text",className:"form-control",name:"avatar",id:"basic-url","aria-describedby":"basic-addon3 basic-addon4",placeholder:"https://example.com/users/"})]})]}),(0,t.jsxs)("div",{className:"input-group mb-3",children:[(0,t.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"@"}),(0,t.jsx)("input",{onChange:i,name:"username",id:"username",type:"text",className:"form-control",placeholder:"Nombre de Usuario","aria-label":"Username","aria-describedby":"basic-addon1"})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("span",{className:"input-group-text",children:"Descripcion"}),(0,t.jsx)("textarea",{onChange:i,name:"description",id:"description",className:"form-control","aria-label":"With textarea"})]})]}),(0,t.jsxs)("div",{className:"modal-footer",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-success",children:"A\xf1adir"})]})]})})})})}function S(){return(0,t.jsx)(p,{children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(n.L,{className:"load-hidden",origin:"right",distance:"650px",scale:2,children:(0,t.jsx)("h1",{children:"Lista de Contactos"})}),(0,t.jsx)(N,{}),(0,t.jsx)(n.L,{className:"load-hidden",origin:"bottom",delay:650,duration:50,reset:!1,children:(0,t.jsx)(w,{})}),(0,t.jsx)(C,{}),(0,t.jsx)(_,{})]})})}}},function(e){e.O(0,[314,222,40,121,114,744],function(){return e(e.s=4222)}),_N_E=e.O()}]);